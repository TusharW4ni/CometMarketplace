import { useState, useEffect } from 'react';
import Navbar from '../components/Navbar';
import { Button } from '@mantine/core';
import PropTypes from 'prop-types';

Messages.propTypes = {
  socket: PropTypes.shape({
    emit: PropTypes.func,
    on: PropTypes.func,
    off: PropTypes.func,
  }),
};
export default function Messages({ socket }) {
  const [message, setMessage] = useState('');
  const [messages, setMessages] = useState([]);

  useEffect(() => {
    if (socket) {
      socket.on('chat message', (msg) => {
        setMessages((messages) => [...messages, msg]);
      });
    }

    return () => {
      if (socket) {
        socket.off('chat message');
      }
    };
  }, [socket]);

  const sendMessage = () => {
    if (socket) {
      socket.emit('chat message', message);
      setMessage('');
    }
  };

  return (
    <>
      <Navbar />
      <div className="flex h-screen pt-44 px-24">
        {/* h-[calc(100vh-64px)] */}
        <div className="fixed overflow-auto bg-white border-4 border-orange-500 p-2 rounded-lg shadow-lg md:hidden lg:block lg:h-3/4 md:w-64">
          Chat List Window
        </div>
        <div className="fixed flex flex-col border-4 border-orange-500 rounded-lg bg-white lg:left-96 lg:right-96 lg:bottom-24 lg:top-44">
          <div className="flex-grow relative">
            <div className="absolute top-0 bottom-0 overflow-auto p-2">
              Chat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat MessagesChat Messages
            </div>
          </div>
          <div className="border-t-2 border-gray-300 p-4 bg-gray-200">
            <input
              type="text"
              className="w-full px-4 py-2 rounded border-2 border-gray-300 focus:outline-none focus:border-blue-500"
              placeholder="Type a message"
            />
          </div>
        </div>
      </div>
    </>
  );
}
